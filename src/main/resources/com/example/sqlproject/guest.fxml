<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Tab?>
<?import javafx.scene.control.TabPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<BorderPane prefHeight="600" prefWidth="900" style="-fx-background-color:#1b1b1b;" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.sqlproject.GuestController">

    <top>
        <HBox alignment="CENTER_LEFT" spacing="12" style="-fx-padding:16 20;">
            <Label style="-fx-text-fill: #eeff00; -fx-font-size: 20; -fx-font-weight: bold;" text="Guest Panel" />
            <Pane HBox.hgrow="ALWAYS" />
            <Button onAction="#goBack" style="-fx-background-color: #eeff00; -fx-text-fill: #1b1b1b; -fx-font-weight: bold; -fx-background-radius: 8;" text="Back" />
        </HBox>
    </top>

    <center>
        <TabPane tabClosingPolicy="UNAVAILABLE">
            <!-- Tab 1 -->
            <Tab text="Horses by Owner Last Name">
                <VBox spacing="10" style="-fx-padding:16;">
                    <HBox spacing="8">
                        <Label prefHeight="19.0" prefWidth="118.0" style="-fx-text-fill:white;" text="Owner last name:">
                     <font>
                        <Font name="System Bold" size="13.0" />
                     </font></Label>
                        <TextField fx:id="ownerLastNameField" promptText="e.g. Ahmed" />
                        <Button onAction="#onBrowseHorsesByOwner" style="-fx-background-color: #eeff00; -fx-text-fill: #1b1b1b; -fx-font-weight: bold;" text="Browse" />
                    </HBox>

                    <TableView fx:id="tblOwnerHorses" prefHeight="460">
                        <columns>
                            <TableColumn fx:id="colHorseName" prefWidth="220" text="Horse Name" />
                            <TableColumn fx:id="colHorseAge" prefWidth="80" text="Age" />
                            <TableColumn fx:id="colTrainerF" prefWidth="180" text="Trainer First" />
                            <TableColumn fx:id="colTrainerL" prefWidth="180" text="Trainer Last" />
                        </columns>
                    </TableView>
                </VBox>
            </Tab>

            <!-- Tab 2 -->
            <Tab text="Trainers who trained winners">
                <VBox spacing="10" style="-fx-padding:16;">
                    <Button onAction="#onBrowseWinnerTrainers" style="-fx-background-color: #eeff00; -fx-text-fill: #1b1b1b; -fx-font-weight: bold;" text="Browse" />

                    <TableView fx:id="tblWinnerTrainers" prefHeight="500">
                        <columns>
                            <TableColumn fx:id="colWT_TF" prefWidth="160" text="Trainer First" />
                            <TableColumn fx:id="colWT_TL" prefWidth="160" text="Trainer Last" />
                            <TableColumn fx:id="colWT_H" prefWidth="200" text="Winning Horse" />
                            <TableColumn fx:id="colWT_R" prefWidth="220" text="Winning Race" />
                            <TableColumn fx:id="colWT_D" prefWidth="120" text="Date" />
                            <TableColumn fx:id="colWT_T" prefWidth="100" text="Time" />
                        </columns>
                    </TableView>
                </VBox>
            </Tab>

            <!-- Tab 3 -->
            <Tab text="Trainer total winnings">
                <VBox spacing="10" style="-fx-padding:16;">
                    <Button onAction="#onBrowseTrainerWinnings" style="-fx-background-color: #eeff00; -fx-text-fill: #1b1b1b; -fx-font-weight: bold;" text="Browse" />

                    <TableView fx:id="tblTrainerWinnings" prefHeight="500">
                        <columns>
                            <TableColumn fx:id="colTW_F" prefWidth="200" text="First Name" />
                            <TableColumn fx:id="colTW_L" prefWidth="200" text="Last Name" />
                            <TableColumn fx:id="colTW_S" prefWidth="200" text="Total Winnings" />
                        </columns>
                    </TableView>
                </VBox>
            </Tab>

            <!-- Tab 4 -->
            <Tab text="Tracks: race count and total horses">
                <VBox spacing="10" style="-fx-padding:16;">
                    <Button onAction="#onBrowseTrackStats" style="-fx-background-color: #eeff00; -fx-text-fill: #1b1b1b; -fx-font-weight: bold;" text="Browse" />

                    <TableView fx:id="tblTrackStats" prefHeight="500">
                        <columns>
                            <TableColumn fx:id="colTS_Name" prefWidth="240" text="Track" />
                            <TableColumn fx:id="colTS_Races" prefWidth="160" text="Races Count" />
                            <TableColumn fx:id="colTS_Horses" prefWidth="160" text="Total Horses" />
                        </columns>
                    </TableView>
                </VBox>
            </Tab>
        </TabPane>
    </center>
</BorderPane>
